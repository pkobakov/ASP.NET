/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/@aspnet/signalr@1.0.27/dist/cjs/HandshakeProtocol.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var TextMessageFormat_1=require("./TextMessageFormat"),Utils_1=require("./Utils"),HandshakeProtocol=function(){function e(){}return e.prototype.writeHandshakeRequest=function(e){return TextMessageFormat_1.TextMessageFormat.write(JSON.stringify(e))},e.prototype.parseHandshakeResponse=function(e){var r,t;if(Utils_1.isArrayBuffer(e)){var s=new Uint8Array(e);if(-1===(o=s.indexOf(TextMessageFormat_1.TextMessageFormat.RecordSeparatorCode)))throw new Error("Message is incomplete.");var a=o+1;r=String.fromCharCode.apply(null,s.slice(0,a)),t=s.byteLength>a?s.slice(a).buffer:null}else{var o,n=e;if(-1===(o=n.indexOf(TextMessageFormat_1.TextMessageFormat.RecordSeparator)))throw new Error("Message is incomplete.");a=o+1;r=n.substring(0,a),t=n.length>a?n.substring(a):null}var i=TextMessageFormat_1.TextMessageFormat.parse(r);return[t,JSON.parse(i[0])]},e}();exports.HandshakeProtocol=HandshakeProtocol;
//# sourceMappingURL=/sm/727a27869165e7f2822fb8880b4fcb6382c579e7c445e8fab142d35b94741571.map