/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/@aspnet/signalr@1.0.27/dist/esm/HandshakeProtocol.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{TextMessageFormat}from"./TextMessageFormat";import{isArrayBuffer}from"./Utils";var HandshakeProtocol=function(){function e(){}return e.prototype.writeHandshakeRequest=function(e){return TextMessageFormat.write(JSON.stringify(e))},e.prototype.parseHandshakeResponse=function(e){var r,t;if(isArrayBuffer(e)){var a=new Uint8Array(e);if(-1===(s=a.indexOf(TextMessageFormat.RecordSeparatorCode)))throw new Error("Message is incomplete.");var o=s+1;r=String.fromCharCode.apply(null,a.slice(0,o)),t=a.byteLength>o?a.slice(o).buffer:null}else{var s,n=e;if(-1===(s=n.indexOf(TextMessageFormat.RecordSeparator)))throw new Error("Message is incomplete.");o=s+1;r=n.substring(0,o),t=n.length>o?n.substring(o):null}var i=TextMessageFormat.parse(r);return[t,JSON.parse(i[0])]},e}();export{HandshakeProtocol};
//# sourceMappingURL=/sm/22546a845770afae6399540162390285b09bef3f40f04d030be677bbd721a1fa.map